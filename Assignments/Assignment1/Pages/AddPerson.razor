@page "/AddPerson"
@using Assignment1.Data
@using Assignment1.Models
@using Assignment1.Persistence
@using Microsoft.AspNetCore.Components
@inject IAdultData adultData
@inject NavigationManager NavigationManager
@inject FileContext FileContext

<h3>AddPerson</h3>

<EditForm Model="@newAdult" OnValidSubmit="@AddNewAdult">
<DataAnnotationsValidator/>
<ValidationSummary/>
<div class="form-group">
    ID:<br/>
    <InputNumber @bind-Value="newAdult.Id"/>
</div>
<div class="form-group">
    Firstname:<br/>
    <InputTextArea rows="4" @bind-Value="newAdult.FirstName"/>
</div>
<div class="form-group">
    Lastname:<br/>
    <InputTextArea rows="4" @bind-Value="newAdult.LastName"/>
</div>
<div class="form-group">
    Haircolor:<br/>
    <InputTextArea rows="4" @bind-Value="newAdult.HairColor"/>
</div>
<div class="form-group">
    Eyecolor:<br/>
    <InputTextArea rows="4" @bind-Value="newAdult.EyeColor"/>
</div>
<div class="form-group">
    Age:<br/>
    <InputNumber rows="4" @bind-Value="newAdult.Age"/>
</div>
<div class="form-group">
    Weight:<br/>
    <InputNumber rows="4" @bind-Value="newAdult.Weight"/>
</div>
<div class="form-group">
    Height:<br/>
    <InputNumber rows="4" @bind-Value="newAdult.Height"/>
</div>
<div class="form-group">
    Sex:<br/>
    <InputTextArea rows="4" @bind-Value="newAdult.Sex"/>
</div>
@*<div class="form-group">
    Job:<br/>
    <InputTextArea rows="4" @bind-Value="newAdult.JobTitle.JobTitle"/>
</div>
<div class="form-group">
    Salary:<br/>
    <InputNumber rows="4" @bind-Value="newAdult.JobTitle.Salary"/>
</div>*@



<p class="actions">
    <button class="btn btn-outline-dark" type="submit">Create</button>
</p> </EditForm>


@code {
    private Adult newAdult = new Adult();

    private void AddNewAdult()
    {
        adultData.AddAdult(newAdult);
        NavigationManager.NavigateTo("/adults");
    }

}